{% extends 'base.html.twig' %}

{% block title %}Prendre rendez-vous
{% endblock %}

{% block body %}
	<div class="container my-5">
		<div class="row justify-content-center">
			<div class="col-md-10 col-lg-8">
				<div class="card shadow-lg register-card">
					<div class="card-body p-4 p-md-5">
						<div class="text-center mb-4">
						    <div class="logo-container">
							<img src="{{ asset('images/Gemini_Generated_Image_iy11sdiy11sdiy11-removebg-preview.png') }}" alt="LineNails Logo" style="max-height: 80px;" class="mb-2">
                            </div>
							<h1 class="h3 mb-1">Prendre rendez-vous</h1>
							<p class="text-black-200">L'Art au bout de vos doigts.</p>
						</div>

						{{ form_start(registrationForm) }}
						<div class="row">
							<div class="col-md-6 mb-3" >
								{{ form_row(registrationForm.prenom) }}
							</div>
							<div class="col-md-6 mb-3">
								{{ form_row(registrationForm.nom) }}
							</div>
						</div>

						<div class="row">
							<div class="col-md-6 mb-3">
								{{ form_row(registrationForm.email) }}
							</div>
							<div class="col-md-6 mb-3">
								{{ form_row(registrationForm.telephone) }}
							</div>
						</div>

						{# CHAMP POUR LA DATE #}
						<div class="mb-4">
							{{ form_row(registrationForm.date) }}
						</div>

						<hr class="my-4" style="border-color: rgba(255, 255, 255, 0.2);">

						<h5 class="text-center mb-4">Sélectionnez vos prestations</h5>
						{{ form_errors(registrationForm.services) }}
						{# Affiche l'erreur si aucune prestation n'est cochée #}

						<div class="row">
							{% for prestation in registrationForm.services %}
								<div
									class="col-md-6 mb-3 service-card-wrapper">
									{# La case à cocher est cachée mais fonctionnelle #}
									{{ form_widget(prestation) }}
									{# Le label est la carte elle-même, ce qui la rend cliquable #}
									<label for="{{ prestation.vars.id }}" class="card service-card h-100">
										<div class="card-body d-flex align-items-center">
											<span class="form-check-label">{{ prestation.vars.label }}</span>
										</div>
									</label>
								</div>
							{% endfor %}
						</div>

						<div class="d-grid mt-4">
							<button type="submit" class="btn btn-primary btn-lg">Envoyer ma demande</button>
						</div>
						{{ form_end(registrationForm) }}
					</div>
				</div>
			</div>
		</div>
	</div>
{% endblock %}
